<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <!-- ============================= -->
  <!--       Document Metadata       -->
  <!-- ============================= -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="color-scheme" content="dark light" />
  <title>Nicholas Falletta — Software Developer</title>
  <meta name="description" content="Portfolio of Nicholas Falletta — software engineer & designer building intuitive, accessible products." />
  <link rel="canonical" href="https://nick-falletta.dev/" />
  <meta property="og:title" content="Nicholas Falletta — Software Developer" />
  <meta property="og:description" content="Portfolio of Nicholas Falletta — software engineer & designer building intuitive, accessible products." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="assets/img/og-cover.png" />
  <meta name="theme-color" content="#0f766e" />

  <!-- ============================= -->
  <!--              CSS              -->
  <!-- ============================= -->
  <style>
    /* ================================
              DESIGN SYSTEM
      ================================ */
    :root {
      --bg: #0b0f10;
      --panel: #0e1416;
      --text: #e7f1ef;
      --muted: #a6b6ba;
      --brand: #0f766e;
      --brand-2: #14b8a6;
      --ring: #22c55e;
      --code: #0b1a1f;
      --header-h: 64px;
      --shadow: 0 8px 30px rgba(0,0,0,.35);
      --ocean-surface: hsl(195, 94%, 50%);
      --ocean-mid: hsl(195 100% 15%);
      --ocean-deep: hsl(200 100% 0%);
      --ocean-snow: hsl(190 12% 82% / .6);
      --ocean-plank: hsl(160 60% 55% / .35);
      --ocean-bubble: hsl(190 100% 96% / .9);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f8faf9;
        --panel: #ffffff;
        --text: #111827;
        --muted: #475569;
        --brand: #0f766e;
        --brand-2: #0ea5a4;
        --ring: #0ea5a4;
        --code: #f1f5f9;
        --shadow: 0 10px 30px rgba(2, 12, 27, .08);
      }
    }

    /* ================================
                BASE / RESET
      ================================ */
    *, *::before, *::after { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    html:focus-within { scroll-behavior: smooth; }
    body { margin: 0; font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji"; color: var(--text); padding-top: var(--header-h); }
    img { max-width: 100%; height: auto; display: block; }
    a { color: var(--brand-2); text-decoration: none; }
    a:hover { text-decoration: underline; }
    code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
    .container { width: min(1100px, 92%); margin-inline: auto; }
    html, body { width: 100%; max-width: 100%; overflow-x: hidden; overscroll-behavior: none; }
    @supports (-webkit-touch-callout: none) { html, body { overscroll-behavior-y: contain; } }

    /* ================================
              OCEAN BACKGROUND
      ================================ */
    #ocean-canvas { position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; z-index: -1; pointer-events: none; }
    @supports (height: 100svh){
      #ocean-canvas{ height:100svh; }   /* stable viewport height */
    }
    @supports (height: 100lvh){
      #ocean-canvas{ height:100lvh; }   /* large viewport height when bars hidden */
    }

    #ocean-top { overflow: hidden; position: relative; height: 240px; background: rgb(134, 226, 250); -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 80%, rgba(0,0,0,0) 100%); -webkit-mask-repeat: no-repeat; -webkit-mask-size: 100% 100%; mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 80%, rgba(0,0,0,0) 100%); mask-repeat: no-repeat; mask-size: 100% 100%; }
    #ocean-top .waves { position: absolute; inset: 0; top: 80px; width: calc(100% + 100px); height: 100%; -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%); mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%); pointer-events: none; }
    .waves-back { z-index: 1; }
    #boat-wrap { z-index: 2; }
    .waves-front { z-index: 3; }


    /* ================================
                    BOAT
      ================================ */
    #boat-wrap { position: absolute; top: 10px; right: 20px; pointer-events: none; }
    #boat-img { width: 300px; animation: boatBob 5s ease-in-out infinite, boatTilt 8s ease-in-out infinite; filter: drop-shadow(0 6px 14px rgba(0,0,0,.3)); }
    @media (prefers-reduced-motion: reduce) { #boat-img, .waves .layer, .waves .bob { animation: none !important; } }


    /* ================================
                  WAVES
      ================================ */
    .waves .layer use { fill: var(--c); }
    .waves .waveA use { opacity: .75; }
    .waves .waveB use { opacity: .55; }
    .waves .waveC use { opacity: .38; }
    @keyframes tiltA { 0% { transform: rotate(0.3deg);} 100% { transform: rotate(-0.3deg);} }
    @keyframes tiltB { 0% { transform: rotate(-0.4deg);} 100% { transform: rotate(0.4deg);} }
    @keyframes tiltC { 0% { transform: rotate(0.2deg);} 100% { transform: rotate(-0.2deg);} }
    @keyframes bobA { 0%,100% { transform: translateY(0);} 50% { transform: translateY(12px);} }
    @keyframes bobB { 0%,100% { transform: translateY(0);} 50% { transform: translateY(9px);} }
    @keyframes bobC { 0%,100% { transform: translateY(0);} 50% { transform: translateY(6px);} }
    .waves .waveA { animation: tiltA 8s ease-in-out infinite alternate; }
    .waves .waveB { animation: tiltB 10s ease-in-out infinite alternate; }
    .waves .waveC { animation: tiltC 12s ease-in-out infinite alternate; }
    .waves .waveA .bob { animation: bobA 6s ease-in-out infinite alternate; }
    .waves .waveB .bob { animation: bobB 7s ease-in-out infinite alternate; }
    .waves .waveC .bob { animation: bobC 8s ease-in-out infinite alternate; }


    /* ================================
              BOAT ANIMATIONS
      ================================ */
    @keyframes boatBob { 0%,100% { transform: translateY(0);} 50% { transform: translateY(14px);} }
    @keyframes boatTilt { 0%,100% { transform: rotate(0deg);} 50% { transform: rotate(-1.2deg);} }


    /* ================================
                HOOK + LINE
      ================================ */
    #hook-wrap { position: fixed; top: 250px; right: 10px; width: 30px; height: auto; pointer-events: none; z-index: 4; transform: translateY(0); filter: sepia(100%) hue-rotate(160deg) brightness(60%) saturate(200%); max-height: 200px; }
    #hook-wrap, #hook-line { opacity: 1; transition: opacity 0.2s ease-in-out; }
    #hook-wrap.hidden, #hook-line.hidden { opacity: 0; }
    #hook-line { position: fixed; inset: 0; pointer-events: none; z-index: 4; overflow: hidden;}
    @keyframes lineShimmer { 0% { stroke-dashoffset: 20;} 100% { stroke-dashoffset: 0;} }


    /* ================================
                DEPTH METER
      ================================ */
    #depth-meter { position: fixed; top: -10px; right: 20px; display: inline-flex; align-items: center; padding: 6px 12px; border-radius: 12px; background: rgba(50, 50, 50, 0.6); color: #fff; font-size: 0.95rem; font-weight: 500; backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); z-index: 9999; transition: opacity .35s ease, transform .35s ease; opacity: 0; transform: translateY(-6px); }
    #depth-meter.is-visible { opacity: 1; transform: translateY(0); }

    /* ---------------------- 
       Accessibility: Skip Link
       ---------------------- */
    .skip-link { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
    .skip-link:focus { position: fixed; left: 1rem; top: 1rem; width: auto; height: auto; padding: .6rem 1rem; background: var(--brand); color: white; border-radius: .6rem; z-index: 1000; }

    /* ================================
      Header / Navigation (desktop + mobile)
      ================================ */
    header { position:fixed; top:0; left:0; right:0; z-index:1000; backdrop-filter:saturate(180%) blur(8px); background:color-mix(in hsl, var(--bg) 75%, transparent); border-bottom:1px solid color-mix(in hsl, var(--muted) 20%, transparent); height:var(--header-h); }
    .nav { display:flex; align-items:center; justify-content:space-between; gap:1rem; height:var(--header-h); }
    .brand { display:flex; align-items:center; gap:.8rem; font-weight:700; letter-spacing:.2px; color:var(--text); text-decoration:none; }
    .brand-avatar { width:36px; height:36px; border-radius:50%; outline:2px solid color-mix(in hsl, var(--brand) 60%, white); box-shadow:var(--shadow); }
    .nav ul { display:flex; gap:.6rem; list-style:none; margin:0; padding:0; }
    .nav a.link { padding:.45rem .8rem; border-radius:.6rem; color:var(--text); text-decoration:none; }
    .nav a.link[aria-current="true"], .nav a.link:hover { background:color-mix(in hsl, var(--brand) 18%, transparent); }
    .nav-cta { display:flex; align-items:center; gap:.6rem; }
    .nav-cta .btn { padding:.42rem .75rem; border-radius:.5rem; font-weight:500; }


    /* ================================
              Burger + Mobile Menu
      ================================ */
    .menu-toggle { display:flex; flex-direction:column; justify-content:space-between; width:28px; height:20px; background:none; border:none; cursor:pointer; padding:0; transition:transform .3s ease; }
    .menu-toggle .bar { height:3px; width:100%; background:var(--text); border-radius:3px; transition:all .3s ease; }
    .menu-toggle.active .bar:nth-child(1) { transform:rotate(45deg) translate(5px,5px); }
    .menu-toggle.active .bar:nth-child(2) { opacity:0; }
    .menu-toggle.active .bar:nth-child(3) { transform:rotate(-45deg) translate(5px,-5px); }

    @media (min-width: 1101px) {
      #menu { display:flex !important; position: static; flex-direction: row; gap: .6rem; height: auto; opacity: 1; transform: none; overflow: visible; }
      .menu-toggle { display:none !important; }
      #nav-scrim { display:none !important; }
    }

    @media (max-width: 1100px) {
      .container.nav { position: static; }
      #menu { position: fixed; top: var(--header-h); left: 0; right: 0; z-index: 1001; background: color-mix(in hsl, var(--bg) 88%, transparent); border-bottom: 1px solid color-mix(in hsl, var(--muted) 20%, transparent); box-shadow: 0 10px 30px rgba(0,0,0,.25); display: block; padding: 0 1rem; height: 0; overflow: hidden; opacity: 0; transform: translateY(-4px); transition: height .28s ease, opacity .2s ease, transform .2s ease; }
      #menu .link { display:block; padding: 14px 0; line-height: 1.4; }
      #menu .nav-cta-mobile { display:flex; gap:.6rem; margin: .4rem 0 1rem; }
      #menu .nav-cta-mobile .btn { flex:1; text-align:center; border-radius:.8rem; padding:.8rem 1rem; }
      #nav-scrim { position: fixed; inset: var(--header-h) 0 0 0; background: rgba(0,0,0,.45); opacity: 0; pointer-events: none; transition: opacity .2s ease; z-index: 1000; }
      #nav-scrim.show { opacity:.5; pointer-events:auto; }
    }

    /* Mobile menu links */
    #menu .link { display:block; padding:.5rem 1rem; margin:.25rem 0; line-height:1.35; }

    /* Mobile CTAs */
    #menu .nav-cta-mobile { display:flex; flex-direction:column; gap:.7rem; margin:1rem 0 1.2rem; padding:0; }
    #menu .nav-cta-mobile .btn { display:block; width:100%; text-align:center; border-radius:.9rem; padding:.5rem 1rem; font-weight:600; box-shadow:var(--shadow); }

    /* Cleaner button styles */
    #menu .nav-cta-mobile .btn.ghost { background:transparent; border:1px solid var(--brand); color:var(--brand); }
    #menu .nav-cta-mobile .btn { background:var(--brand); color:#fff; border:none; }

    /* Scrim */
    #nav-scrim { position:fixed; inset:var(--header-h) 0 0 0; background:rgba(0,0,0,.45); opacity:0; pointer-events:none; transition:opacity .25s ease; z-index:1000; }
    #nav-scrim.show { opacity:.5; pointer-events:auto; }
    body.menu-open { overflow:hidden; }

    /* Desktop menu alignment */
    @media (min-width:1100px) {
      #menu { display:flex !important; align-items:center; gap:.8rem; position:static; height:auto; opacity:1; transform:none; overflow:visible; }
      #menu > li { display:flex; align-items:center; }
      .nav a.link { display:inline-flex; align-items:center; padding:.6rem .9rem; line-height:1; }
      .nav-cta { display:flex; gap:.6rem; }
      .nav-cta .btn { padding:.45rem .8rem; border-radius:.6rem; font-weight:500; }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      #menu { transition:none !important; transform:none !important; }
      #nav-scrim { transition:none !important; }
    }

    /* ---------------------- 
       Hero Section
       ---------------------- */
    .hero { padding: 0 0 1.2rem; }
    .tag { display: inline-flex; align-items: center; gap: .5rem; padding: .25rem .55rem; border-radius: .8rem; background: color-mix(in hsl, var(--brand) 50%, transparent); color: var(--brand-2); font-weight: 600; font-size: .9rem; }
    .hero-grid { display: grid; grid-template-columns: 1.2fr .8fr; gap: 2rem; align-items: center; }
    .hero h1 { font-size: clamp(2rem, 6vw, 3.4rem); line-height: 1.1; margin: 0.4rem 0 0.6rem; letter-spacing: .2px; }
    .hero p.lede { color: var(--muted); font-size: clamp(1rem, 2.4vw, 1.15rem); margin: 0 0 1.2rem; }
    .hero-cta { display: flex; gap: .6rem; flex-wrap: wrap; }
    .hero-cta img { width: 50px; height: 50px; display: block; }

    /* Stats */
    .stats { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 1rem; margin-top: 1.2rem; text-align: center; }
    .stat { background: var(--panel); padding: 1rem; border-radius: .8rem; border: 1px solid color-mix(in hsl, var(--muted) 20%, transparent); text-align: center; }
    .stat strong { display: block; font-size: 1.4rem; }
    @media (max-width: 550px) { .stats { grid-template-columns: 1fr; } }

    /* ---------------------- 
       Hero Image Slider
       ---------------------- */
    .portrait { width: 100%; border-radius: .8rem; border: 1px solid color-mix(in hsl, var(--muted) 20%, transparent); box-shadow: var(--shadow); transform: translateZ(0); }
    .hero-visual { width: 100%; }
    .hero-slider { position: relative; border-radius: .8rem; border: 1px solid color-mix(in hsl, var(--muted) 20%, transparent); box-shadow: var(--shadow); overflow: clip; background: #0a1113; }
    .hero-slider .slides { position: relative; aspect-ratio: 16 / 10; }
    .hero-slider .slide { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transform: scale(1.02); transition: opacity .6s ease, transform .6s ease; will-change: opacity, transform; }
    .hero-slider .slide.is-active { opacity: 1; transform: scale(1); }
    @media (prefers-reduced-motion: reduce) { .hero-slider .slide { transition: none; } }
    .slider-controls { position: absolute; inset: 0; display: flex; align-items: center; justify-content: space-between; pointer-events: none; }
    .slide-btn { pointer-events: auto; background: color-mix(in hsl, var(--bg) 40%, transparent); color: var(--text); border: 1px solid color-mix(in hsl, var(--muted) 30%, transparent); width: 40px; height: 40px; border-radius: 50%; margin: 0 .6rem; display: grid; place-items: center; cursor: pointer; transition: background-color .2s ease, border-color .2s ease, transform .2s ease; }
    .slide-btn:hover { filter: brightness(1.05); }
    .slider-dots { position: absolute; left: 0; right: 0; bottom: .6rem; display: flex; gap: .4rem; justify-content: center; align-items: center; }
    .slider-dots .dot { width: 12px; height: 12px; border-radius: 999px; background: color-mix(in hsl, var(--muted) 40%, transparent); border: 1px solid color-mix(in hsl, var(--muted) 50%, transparent); cursor: pointer; }
    .slider-dots .dot.is-active { width: 20px; background: var(--brand); border-color: var(--brand-2); }
    @media (max-width: 1000px) { .hero-slider .slides { aspect-ratio: 16 / 9; } }

    /* ---------------------- 
       Section scaffolding (shared)
       ---------------------- */
    section { padding: 4rem 0; scroll-margin-top: 84px; }
    section header h2 { font-size: clamp(1.4rem, 3vw, 2rem); margin: 0 0 .4rem; }
    section header p { color: var(--muted); margin: 0 0 1.4rem; }

    /* ---------------------- 
       Projects Grid & Cards
       ---------------------- */
    .projects { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 1.2rem; }
    .card { background: color-mix(in oklab, var(--panel) 70%, transparent); backdrop-filter: saturate(130%) blur(6px); border-radius: 1rem; overflow: clip; border: 1px solid color-mix(in hsl, var(--muted) 22%, transparent); display: grid; grid-template-rows: auto 1fr auto; }
    .card-media { aspect-ratio: 16/10; background: #0a1113; display: grid; place-items: center; overflow: hidden; }
    .card-media img { width: 100%; height: 100%; object-fit: fill; will-change: transform; } /* swap to 'cover' if you want no distortion */
    .card-body { padding: 1rem; }
    .card-title { display: flex; align-items: center; justify-content: space-between; gap: .6rem; }
    .chip { display: inline-flex; align-items: center; padding: .1rem .5rem; border-radius: .45rem; background: color-mix(in hsl, var(--brand) 18%, transparent); color: var(--brand-2); font-size: .8rem; }
    .card p { color: var(--muted); margin: .4rem 0 .8rem; }
    .card-actions { display: flex; gap: .5rem; padding: 0 1rem 1rem; }
    @media (max-width: 1000px) { .projects { grid-template-columns: repeat(2, minmax(0,1fr)); } .hero-grid { grid-template-columns: 1fr; } }
    @media (max-width: 640px) { .projects { grid-template-columns: 1fr; } }

    /* ---------------------- 
       Experience Timeline
       ---------------------- */
    .timeline { position: relative; margin: 2rem 0; }
    .timeline::before { content: ""; position: absolute; left: 12px; top: 0; bottom: 0; width: 2px; background: color-mix(in hsl, var(--muted) 25%, transparent); }
    .t-item { position: relative; margin-left: 2.5rem; padding: 1rem 1rem 1rem 1.2rem; border-left: 2px solid transparent; }
    .t-item::before { content: ""; position: absolute; left: -5px; top: 1.2rem; width: 10px; height: 10px; border-radius: 50%; background: var(--brand); box-shadow: 0 0 0 3px color-mix(in hsl, var(--brand) 25%, transparent); }
    .t-head { display: flex; flex-wrap: wrap; gap: .6rem 1rem; align-items: baseline; }
    .t-role { color: var(--brand-2); font-weight: 600; }
    .t-meta { color: var(--muted); font-size: .95rem; }

    /* ---------------------- 
       Skills
       ---------------------- */
    .skills { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 1rem; }
    .skill-card { background: color-mix(in oklab, var(--panel) 70%, transparent); backdrop-filter: saturate(130%) blur(6px); border: 1px solid color-mix(in hsl, var(--muted) 22%, transparent); border-radius: .8rem; padding: 1rem; }
    .skill-tags { display: flex; flex-wrap: wrap; gap: .4rem; }
    .tag-pill { padding: .25rem .55rem; background: color-mix(in hsl, var(--brand) 16%, transparent); border-radius: .8rem; color: var(--text); font-size: .9rem; }
    @media (max-width: 820px) { .skills { grid-template-columns: 1fr; } }

    /* ---------------------- 
       Education
       ---------------------- */
    .edu { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 1rem; }
    .edu-card { background: color-mix(in oklab, var(--panel) 70%, transparent); backdrop-filter: saturate(130%) blur(6px); border: 1px solid color-mix(in hsl, var(--muted) 22%, transparent); border-radius: .8rem; padding: 1rem; }
    @media (max-width: 820px) { .edu { grid-template-columns: 1fr; } }

    /* ---------------------- 
       Contact
       ---------------------- */
    .contact { display: grid; grid-template-columns: 1.1fr .9fr; gap: 1.2rem; align-items: stretch; }  
    .contact .panel { background: color-mix(in oklab, var(--panel) 70%, transparent); backdrop-filter: saturate(130%) blur(6px); border: 1px solid color-mix(in hsl, var(--muted) 22%, transparent); border-radius: .8rem; padding: 1rem; height: 100%; display: flex; flex-direction: column; box-sizing: border-box; }  
    .contact-list { display: grid; gap: .5rem; }  
    .row { display: flex; align-items: center; }
    .row strong { width: 80px; color: var(--muted); }
    .copy { padding: .3rem .5rem; border: 1px solid color-mix(in hsl, var(--muted) 30%, transparent); background: transparent; color: var(--text); border-radius: .4rem; }
    @media (max-width: 820px) { .contact { grid-template-columns: 1fr; } }

    /* ---------------------- 
       Section Titles
       ---------------------- */
    .sectionHeader p{color:color-mix(in hsl,var(--ocean-surface) 18%,var(--muted));}

    .zone-title{display:inline-block;font-weight:800;letter-spacing:.8px;background-clip:text;-webkit-background-clip:text;color:transparent;-webkit-text-fill-color:transparent;text-shadow:0 1px 1px rgba(255,255,255,.65),0 3px 6px rgba(0,0,0,.4);}
    #home .zone-title{background-image:linear-gradient(180deg,#f2feff 0%,#baf7f5 35%,#ffffff 48%,#ffffff 52%,#74e0f0 60%,#12b9d6 100%);}
    #projects .zone-title{background-image:linear-gradient(180deg,#ecfeff 0%,#a8e6ff 35%,#ffffff 48%,#ffffff 52%,#4fb7f0 60%,#0a75c7 100%);}
    #experience .zone-title{background-image:linear-gradient(180deg,#f0f9ff 0%,#a7c8ff 35%,#ffffff 48%,#ffffff 52%,#4a76d9 60%,#102a6e 100%);}
    #skills .zone-title{background-image:linear-gradient(180deg,#f0fff4 0%,#baf6ce 35%,#ffffff 48%,#ffffff 52%,#39c072 60%,#0f3e23 100%);}
    #education .zone-title{background-image:linear-gradient(180deg,#fbf5ff 0%,#e3c9ff 35%,#ffffff 48%,#ffffff 52%,#8f5be6 60%,#3a0d6b 100%);}
    #contact .zone-title{background-image:linear-gradient(180deg,#f0fdfa 0%,#aef3e6 35%,#ffffff 48%,#ffffff 52%,#2dbca2 60%,#0b2b29 100%);}

    /* ---------------------- 
       Footer
       ---------------------- */
    footer { background: transparent; padding: 2rem 0 3rem; color: var(--muted); }

    /* ---------------------- 
       Focus styles / Motion / Print
       ---------------------- */
    :focus-visible { outline: 3px solid var(--ring); outline-offset: 2px; border-radius: 6px; }
    .reveal { opacity: 0; transform: translateY(8px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.show { opacity: 1; transform: none; }
    @media print {
      header, .menu-toggle, .btn, .hero-cta, .nav-cta, .chip, .card-actions, .copy { display: none !important; }
      body { background: white; color: black; }
      section { padding: 1rem 0; }
    }

  </style>

  <!-- Structured data -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Nicholas Falletta",
      "jobTitle": "Software Developer",
      "url": "https://nick-falletta.dev/",
      "sameAs": [
        "https://github.com/Nick-Falletta",
        "https://www.linkedin.com/in/nick-falletta/"
      ]
    }
  </script>
</head>
<body>
  <!-- ============================= -->
  <!--           Header/Nav          -->
  <!-- ============================= -->
  <a class="skip-link" href="#main">Skip to content</a>

  <header>
    <div class="container nav" role="navigation" aria-label="Primary">
      <a class="brand" href="#">
        <img class="brand-avatar" src="assets/img/profile.png" alt="Nick Falletta avatar" />
        <span>Nick Falletta</span>
      </a>

      <!-- Burger button -->
      <button class="menu-toggle" aria-controls="menu" aria-expanded="false" id="menuBtn">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>

      <!-- Primary nav links + mobile CTAs -->
      <ul id="menu">
        <li><a class="link" href="#projects">Projects</a></li>
        <li><a class="link" href="#experience">Experience</a></li>
        <li><a class="link" href="#skills">Skills</a></li>
        <li><a class="link" href="#education">Education</a></li>
        <li><a class="link" href="#contact">Contact</a></li>
        <li class="nav-cta-mobile">
          <a class="btn ghost" href="assets/resume/FallettaResume.pdf" target="_blank" rel="noopener">Résumé</a>
        </li>
        <li class="nav-cta-mobile">
          <a class="btn" href="mailto:nickfalletta29@outlook.com">Contact me</a>
        </li>
      </ul>
      <div id="nav-scrim" aria-hidden="true"></div>
    </div>
  </header>

  <!-- ============================= -->
  <!--              Main             -->
  <!-- ============================= -->
  <main id="main">

    <section id="ocean-top" aria-hidden="true">
  <!-- BACK WAVES -->
  <svg class="waves waves-back" viewBox="0 0 2000 260" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <path id="w" d="M0,110 C130,130 260,90 390,110 C520,130 650,90 780,110 
      C910,130 1040,90 1170,110 C1300,130 1430,90 1560,110 C1690,130 1820,90 
      1950,110 L1950,260 L0,260 Z"/>
    </defs>

    <!-- Wave C -->
    <g class="layer waveC" style="--c: color-mix(in hsl, var(--ocean-mid) 55%, var(--ocean-deep) 45%);">
      <g class="bob">
        <use href="#w" x="0"></use>
        <use href="#w" x="2000"></use>
      </g>
    </g>

    <!-- Wave B -->
    <g class="layer waveB" style="--c: color-mix(in hsl, var(--ocean-surface) 55%, var(--ocean-mid) 45%);">
      <g class="bob">
        <use href="#w" x="0"></use>
        <use href="#w" x="2000"></use>
      </g>
    </g>
  </svg>

  <!-- BOAT -->
  <div id="boat-wrap">
    <img id="boat-img" src="assets/img/boat.png" alt="Boat"/>
  </div>

  <!-- FRONT WAVES -->
  <svg class="waves waves-front" viewBox="0 0 2000 260" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <path id="w2" d="M0,110 C130,130 260,90 390,110 C520,130 650,90 780,110 
      C910,130 1040,90 1170,110 C1300,130 1430,90 1560,110 C1690,130 1820,90 
      1950,110 L1950,260 L0,260 Z"/>
    </defs>

    <!-- Wave A  -->
    <g class="layer waveA" style="--c: color-mix(in hsl, var(--ocean-surface) 88%, var(--ocean-mid) 12%);">
      <g class="bob">
        <use href="#w2" x="0"></use>
        <use href="#w2" x="2000"></use>
      </g>
    </g>
  </svg>
</section>

<!-- HOOK -->
<div id="hook-wrap">
  <img id="hook-img" src="assets/img/hook.png" alt="Hook"/>

  <!-- Depth meter -->
  <div id="depth-meter" aria-live="polite">
    <span class="depth-value">0</span> m
  </div>
</div>
<!-- Fishing line overlay (drawn from the boat to the hook) -->
<svg id="hook-line" aria-hidden="true">
  <path id="hook-path"
        d=""
        fill="none"
        stroke="rgba(225,245,250,.85)"
        stroke-width="2.2"
        stroke-linecap="round"
        vector-effect="non-scaling-stroke"
        stroke-dasharray="6 6"
        style="animation: lineShimmer 3s linear infinite;"></path>
</svg>

  <!-- Ocean background canvas (fixed, behind all content) -->
  <canvas id="ocean-canvas" aria-hidden="true"></canvas>

    <!-- ===== Hero ===== -->
    <section id="home" class="hero container">
      <div class="hero-grid">
        <!-- Hero text/CTA/stats -->
        <div class="sectionHeader">
          <h1 id="projects-title" class="zone-title">About me - The Surface</h1>
          <h2>Breaking the surface with polished, accessible products</h2>
          <p>
            Clarity, speed, and usability.  
            I’m a software engineer & designer who blends intuitive UX with robust code —  
            from accessibility tools and large-language-model projects to cross-platform mobile and web apps.
          </p>
          <div class="hero-cta reveal">
            <a class="btn ghost" href="https://github.com/Nick-Falletta" target="_blank" rel="noopener">
              <img src="assets/img/github.svg" alt="GitHub" loading="eager" />
            </a>
            <a class="btn ghost" href="https://www.linkedin.com/in/nick-falletta" target="_blank" rel="noopener">
              <img src="assets/img/linkedin.png" alt="LinkedIn" loading="eager" />
            </a>
          </div>

          <!-- Stats -->
          <div class="stats" aria-label="Highlights">
            <div class="skill-card reveal" aria-live="polite">
              <strong class="count" data-to="10">0</strong> shipped projects
            </div>
            <div class="skill-card reveal"><strong>iOS, Web, Android</strong> multi-platform</div>
            <div class="skill-card reveal"><strong>Accessibility</strong> first principles</div>
          </div>
        </div>

        <!-- Hero image slider (right column) -->
        <div class="hero-visual reveal">
          <div class="hero-slider" role="region" aria-label="Featured photos" tabindex="0">
            <div class="slides">
              <!-- Tip: you can override fill per-image with inline style e.g., style="object-fit:contain;background:#000" -->
              <img class="slide is-active" src="assets/img/NittanyLion.jpeg" alt="Nick with the Nittany Lion Statue" loading="eager" />
              <img class="slide" src="assets/img/vacation.jpeg" alt="Photo after a hike in Antigua" loading="lazy" />
              <img class="slide" src="assets/img/IST.jpeg" alt="IST event" loading="lazy" />
            </div>

            <!-- Slider controls -->
            <div class="slider-controls">
              <button class="slide-btn prev" type="button" aria-label="Previous image" title="Previous">&#10094;</button>
              <button class="slide-btn next" type="button" aria-label="Next image" title="Next">&#10095;</button>
            </div>

            <!-- Slider pagination dots -->
            <div class="slider-dots" role="tablist" aria-label="Choose image">
              <button class="dot is-active" role="tab" aria-selected="true" aria-label="Image 1"></button>
              <button class="dot" role="tab" aria-selected="false" aria-label="Image 2"></button>
              <button class="dot" role="tab" aria-selected="false" aria-label="Image 3"></button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Projects ===== -->
    <section id="projects" aria-labelledby="projects-title">
      <div class="container">
        <div class="sectionHeader">
          <h1 id="projects-title" class="zone-title">Projects - Sunlight Zone</h1>
          <p>Work visible in open waters — shipped apps, case studies, experiments.</p>
        </div>
        <div class="projects">
          <!-- Title Tracker -->
          <article class="card reveal">
            <div class="card-media">
              <img src="assets/img/titletracker.png" alt="Title Tracker app preview" loading="lazy" />
            </div>
            <div class="card-body">
              <div class="card-title">
                <h3 style="margin:0">Title Tracker</h3>
                <span class="chip">Flutter · Firebase</span>
              </div>
              <p>Workflow manager for Comm-Res Exams Corp. Realtime data, secure auth, and cross-platform delivery.</p>
            </div>
            <div class="card-actions">
              <a class="btn ghost" href="https://apps.apple.com/us/app/title-tracker/id6504823785" target="_blank" rel="noopener">iOS</a>
              <a class="btn ghost" href="https://play.google.com/store/apps/details?id=com.nicky.titletracker" target="_blank" rel="noopener">Android</a>
            </div>
          </article>

          <!-- NaviGPT -->
          <article class="card reveal">
            <div class="card-media">
              <img src="assets/img/navigpt.png" alt="NaviGPT LiDAR navigation app" loading="lazy" />
            </div>
            <div class="card-body">
              <div class="card-title">
                <h3 style="margin:0">NaviGPT</h3>
                <span class="chip">Swift · LiDAR · OpenAI</span>
              </div>
              <p>Accessible navigation assistant for visually impaired users. LiDAR object detection, haptics, and AI guidance.</p>
            </div>
            <div class="card-actions">
              <a class="btn ghost" href="https://arxiv.org/pdf/2410.04005" target="_blank" rel="noopener">Paper</a>
              <a class="btn ghost" href="https://github.com/PSU-IST-CIL/NaviGPT/" target="_blank" rel="noopener">GitHub</a>
            </div>
          </article>

          <!-- Kaizen/TherAI -->
          <article class="card reveal">
            <div class="card-media">
              <img src="assets/img/kaizen.png" alt="Kaizen note converter prototype" loading="lazy" />
            </div>
            <div class="card-body">
              <div class="card-title">
                <h3 style="margin:0">Kaizen</h3>
                <span class="chip">React · Gemini · Python</span>
              </div>
              <p>Turns therapy sessions into concise, highlighted notes. Upload past sessions, organize by folder, export.</p>
            </div>
            <div class="card-actions">
              <a class="btn ghost" href="https://www.figma.com/proto/iZQ0xGy7zTffsi4Gv1Yi7W/TherAI?node-id=0-1" target="_blank" rel="noopener">Figma</a>
            </div>
          </article>

          <!-- Jarvis -->
          <article class="card reveal">
            <div class="card-media">
              <img src="assets/img/jarvis.png" alt="Jarvis chatbot editing a website style live" loading="lazy" />
            </div>
            <div class="card-body">
              <div class="card-title">
                <h3 style="margin:0">Jarvis</h3>
                <span class="chip">React · OpenAI</span>
              </div>
              <p>Customizable AI chatbot with voice input and CSS live-editing. Context retention and personality presets.</p>
            </div>
            <div class="card-actions">
              <a class="btn ghost" href="https://github.com/Nick-Falletta/jarvis" target="_blank" rel="noopener">GitHub</a>
            </div>
          </article>

          <!-- Multiple Choice Builder -->
          <article class="card reveal">
            <div class="card-media">
              <img src="assets/img/taggingQuestion.png" alt="Multiple choice builder interface" loading="lazy" />
            </div>
            <div class="card-body">
              <div class="card-title">
                <h3 style="margin:0">Multiple-Choice Builder</h3>
                <span class="chip">React · JSON</span>
              </div>
              <p>Author quizzes via JSON with instant feedback and image support; great for self-study & workshops.</p>
            </div>
            <div class="card-actions">
              <a class="btn ghost" href="https://github.com/Nick-Falletta/taggingQuestion" target="_blank" rel="noopener">GitHub</a>
            </div>
          </article>

          <!-- Placeholder -->
          <article class="card reveal">
            <div class="card-media" aria-hidden="true">
              <svg viewBox="0 0 400 250" role="img" aria-label="Placeholder" xmlns="http://www.w3.org/2000/svg"><rect width="400" height="250" rx="12" fill="#0a1113"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#3b4b52" font-size="18">New project coming…</text></svg>
            </div>
            <div class="card-body">
              <div class="card-title">
                <h3 style="margin:0">Next up</h3>
                <span class="chip">TBD</span>
              </div>
              <p>Currently exploring smarter, privacy-first location experiences with on-device ML.</p>
            </div>
            <div class="card-actions">
              <a class="btn" href="mailto:nickfalletta29@outlook.com">Collaborate</a>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- ===== Experience ===== -->
    <section id="experience" aria-labelledby="exp-title">
      <div class="container">
        <div class="sectionHeader">
          <h1 id="exp-title" class="zone-title">Experience - Twilight Zone</h1>
          <p>Where light fades, responsibility grows, and skills deepen.</p>
        </div>
        <div class="timeline">
          <article class="t-item reveal">
            <div class="t-head">
              <h3 style="margin:0">Fundamentals of Computing Association</h3>
              <span class="t-role">Project Manager</span>
              <span class="t-meta">Aug 2023 — May 2025 · State College, PA</span>
            </div>
            <ul>
              <li>Guided students through semester-long builds (React, full-stack, GitHub, UI/UX), including a personality-driven AI chatbot.</li>
              <li>Organized weekly bootcamps; fostered collaboration and ownership.</li>
            </ul>
          </article>

          <article class="t-item reveal">
            <div class="t-head">
              <h3 style="margin:0">Pennsylvania State University</h3>
              <span class="t-role">Software Developer Intern</span>
              <span class="t-meta">May — Dec 2024 · State College, PA</span>
            </div>
            <ul>
              <li>Developed <strong>NaviGPT</strong> — iOS app using LiDAR and OpenAI; collaborated with visually-impaired users and faculty.</li>
              <li>Ran research-driven iterations; integrated Apple Maps; shipped haptics & on-device guidance.</li>
            </ul>
          </article>

          <article class="t-item reveal">
            <div class="t-head">
              <h3 style="margin:0">Comm-Res Exams Corporation</h3>
              <span class="t-role">Software Developer Intern</span>
              <span class="t-meta">Dec 2022 — Apr 2023 · Mineola, NY</span>
            </div>
            <ul>
              <li>Built <strong>Title Tracker</strong> (Flutter + Firebase): secure auth, realtime data, iOS & Android release.</li>
              <li>Partnered with stakeholders; translated workflow needs into app features.</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- ===== Skills ===== -->
    <section id="skills" aria-labelledby="skills-title">
      <div class="container">
        <div class="sectionHeader">
          <h1 id="skills-title" class="zone-title">Skills - Midnight Zone</h1>
          <p>Tools and technologies honed under pressure.</p>
        </div>
        <div class="skills">
          <div class="skill-card reveal">
            <h3>Languages</h3>
            <div class="skill-tags">
              <span class="tag-pill">Java</span><span class="tag-pill">Python</span><span class="tag-pill">TypeScript</span><span class="tag-pill">JavaScript</span><span class="tag-pill">Swift</span><span class="tag-pill">Dart</span><span class="tag-pill">SQL</span><span class="tag-pill">C#</span>
            </div>
          </div>
          <div class="skill-card reveal">
            <h3>Frameworks & Libraries</h3>
            <div class="skill-tags">
              <span class="tag-pill">React</span><span class="tag-pill">React Native</span><span class="tag-pill">Node</span><span class="tag-pill">Flutter</span><span class="tag-pill">.NET</span><span class="tag-pill">Bootstrap</span><span class="tag-pill">Angular</span>
            </div>
          </div>
          <div class="skill-card reveal">
            <h3>Platforms & Tools</h3>
            <div class="skill-tags">
              <span class="tag-pill">iOS</span><span class="tag-pill">Xcode</span><span class="tag-pill">Android Studio</span><span class="tag-pill">Firebase</span><span class="tag-pill">MongoDB</span><span class="tag-pill">MySQL</span><span class="tag-pill">GitHub</span><span class="tag-pill">Figma</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Education ===== -->
    <section id="education" aria-labelledby="edu-title">
      <div class="container">
        <div class="sectionHeader">
          <h1 id="edu-title" class="zone-title">Education - Abyssal Zone</h1>
          <p>The deep foundations that support everything above.</p>
        </div>
        <div class="edu">
          <article class="edu-card reveal">
            <h3 style="margin-top:0">B.S. — Human Centered Design & Development</h3>
            <p class="muted">Pennsylvania State University - State College, PA</p>
            <ul>
              <li>Built full-stack applications with React, Java, and Python</li>
              <li>Applied UI/UX principles in Figma to design and prototype user-centric interfaces</li>
              <li>Implemented relational database systems with SQL and MongoDB and optimized queries for performance</li>
            </ul>
          </article>
          <article class="edu-card reveal">
            <h3 style="margin-top:0">Smeal Business Fundamentals Certificate</h3>
            <p class="muted">Pennsylvania State University - State College, PA</p>
            <ul>
              <li>Applied data-driven decision making through business analytics case studies</li>
              <li>Gained foundations in financial reporting, accounting, and managerial finance</li>
              <li>Developed insights into marketing strategy and competitive positioning</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- ===== Contact ===== -->
    <section id="contact" aria-labelledby="contact-title">
      <div class="container">
        <div class="sectionHeader">
          <h1 id="contact-title" class="zone-title">Contact Me - The Trench</h1>
          <p>From the deepest depths, connections surface.</p>
        </div>
        <div class="contact">
          <div class="panel reveal">
            <div class="contact-list" role="list">
              <div class="row" role="listitem"><strong>Email</strong> <a href="mailto:nickfalletta29@outlook.com">nickfalletta29@outlook.com</a> <button class="copy" data-copy="nickfalletta29@outlook.com" aria-label="Copy email">Copy</button></div>
              <div class="row" role="listitem"><strong>Phone</strong> <a href="tel:+16316375632">+1 (631) 637-5632</a> <button class="copy" data-copy="+16316375632" aria-label="Copy phone">Copy</button></div>
              <div class="row" role="listitem"><strong>GitHub</strong> <a href="https://github.com/Nick-Falletta" target="_blank" rel="noopener">/Nick-Falletta</a></div>
              <div class="row" role="listitem"><strong>LinkedIn</strong> <a href="https://www.linkedin.com/in/nick-falletta" target="_blank" rel="noopener">/in/nick-falletta</a></div>
            </div>
          </div>
          <div class="panel reveal">
            <h3 style="margin-top:0">Why teams work with me</h3>
            <ul>
              <li>Blend of product sense and engineering rigor — think in systems, ship in iterations.</li>
              <li>Accessibility and performance aren’t afterthoughts; they’re the baseline.</li>
              <li>Clear communication, strong ownership, and empathy for users and teammates.</li>
            </ul>
            <p style="color:var(--muted)">Résumé available on request or via the button above.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ============================= -->
  <!--             Footer            -->
  <!-- ============================= -->
  <footer>
    <div class="container">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap">
        <small>© <span id="year"></span> Nicholas Falletta. All rights reserved.</small>
        <small>Last updated <time id="updated"></time></small>
      </div>
    </div>
  </footer>

  <!-- ============================= -->
  <!--              JS               -->
  <!-- ============================= -->
  <script>
    // ----------------------------------------
    // Mobile menu toggle + scrim + scroll lock
    // ----------------------------------------
    const menuBtn = document.getElementById('menuBtn');
    const menu    = document.getElementById('menu');
    const scrim   = document.getElementById('nav-scrim');
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // init closed
    menu.style.display = 'none';
    menu.setAttribute('aria-hidden', 'true');
    menuBtn.setAttribute('aria-expanded', 'false');

    function lockScroll(lock) {
      document.body.classList.toggle('menu-open', lock);
      document.body.style.overflow = lock ? 'hidden' : '';
    }

    function openMenu() {
      // make it measurable
      menu.style.display = 'block';
      // read natural height
      menu.style.height = 'auto';
      const target = menu.scrollHeight + 'px';
      // start from 0 for animation
      menu.style.height = '0px';
      // force style calc then animate
      requestAnimationFrame(() => {
        if (prefersReduced) {
          menu.style.height = 'auto';
          menu.style.opacity = '1';
          menu.style.transform = 'none';
        } else {
          menu.style.height = target;
          menu.style.opacity = '1';
          menu.style.transform = 'translateY(0)';
        }
      });

      const onEnd = (e) => {
        if (e.propertyName === 'height') {
          menu.style.height = 'auto';
          menu.removeEventListener('transitionend', onEnd);
        }
      };
      menu.addEventListener('transitionend', onEnd);

      menuBtn.classList.add('active');
      scrim.classList.add('show');
      menu.setAttribute('aria-hidden', 'false');
      menuBtn.setAttribute('aria-expanded', 'true');
      lockScroll(true);

      // focus first link for a11y
      const firstLink = menu.querySelector('.link');
      firstLink && firstLink.focus({ preventScroll: true });
    }

    function closeMenu() {
      // if currently 'auto', freeze current px height then animate back to 0
      const current = getComputedStyle(menu).height;
      if (!prefersReduced) {
        menu.style.height = current;
        // next frame → collapse
        requestAnimationFrame(() => {
          menu.style.height = '0px';
          menu.style.opacity = '0';
          menu.style.transform = 'translateY(-4px)';
        });
      }

      const finish = () => {
        menu.style.display = 'none';
        menu.removeEventListener('transitionend', finish);
      };
      prefersReduced ? finish() : menu.addEventListener('transitionend', finish);

      menuBtn.classList.remove('active');
      scrim.classList.remove('show');
      menu.setAttribute('aria-hidden', 'true');
      menuBtn.setAttribute('aria-expanded', 'false');
      lockScroll(false);
      // return focus to the toggle
      menuBtn.focus({ preventScroll: true });
    }

    function isOpen() {
      return menuBtn.getAttribute('aria-expanded') === 'true';
    }

    menuBtn.addEventListener('click', () => (isOpen() ? closeMenu() : openMenu()));
    scrim.addEventListener('click', closeMenu);
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && isOpen()) closeMenu(); });

    // Close on nav link click (mobile only)
    document.querySelectorAll('#menu .link').forEach(a => {
      a.addEventListener('click', () => {
        if (window.matchMedia('(max-width: 899px)').matches) closeMenu();
      });
    });

    // Reset state when switching to desktop size
    const mql = window.matchMedia('(min-width: 1100px)');
    mql.addEventListener('change', (e) => {
      if (e.matches) { // desktop
        menu.style.display = '';
        menu.style.height = '';
        menu.style.opacity = '';
        menu.style.transform = '';
        scrim.classList.remove('show');
        menu.setAttribute('aria-hidden', 'false');
        menuBtn.setAttribute('aria-expanded', 'false');
        document.body.classList.remove('menu-open');
        document.body.style.overflow = '';
      } else { // mobile
        menu.style.display = 'none';
        menu.style.height = '0px';
        menu.style.opacity = '0';
        menu.style.transform = 'translateY(-4px)';
        menu.setAttribute('aria-hidden', 'true');
      }
    });

    // ----------------------------------------
    // Hero Image Slider (autoplay + controls)
    // ----------------------------------------
    (function initHeroSlider() {
      const slider = document.querySelector('.hero-slider');
      if (!slider) return;

      const slides = [...slider.querySelectorAll('.slide')];
      const dots   = [...slider.querySelectorAll('.dot')];
      const prevBtn = slider.querySelector('.slide-btn.prev');
      const nextBtn = slider.querySelector('.slide-btn.next');

      let index = slides.findIndex(s => s.classList.contains('is-active'));
      if (index < 0) index = 0;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const AUTOPLAY_MS = 5000; 
      let autoplayId = null;
      let paused = false;

      function show(i) {
        slides[index].classList.remove('is-active');
        dots[index]?.classList.remove('is-active');
        dots[index]?.setAttribute('aria-selected', 'false');

        index = (i + slides.length) % slides.length;

        slides[index].classList.add('is-active');
        dots[index]?.classList.add('is-active');
        dots[index]?.setAttribute('aria-selected', 'true');
      }

      function next() { show(index + 1); }
      function prev() { show(index - 1); }

      // Controls
      nextBtn?.addEventListener('click', () => { next(); restartAutoplay(); });
      prevBtn?.addEventListener('click', () => { prev(); restartAutoplay(); });
      dots.forEach((d, i) => {
        d.addEventListener('click', () => { show(i); restartAutoplay(); });
        d.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); show(i); restartAutoplay(); }
        });
      });

      // Keyboard 
      slider.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') { next(); restartAutoplay(); }
        if (e.key === 'ArrowLeft')  { prev(); restartAutoplay(); }
      });

      // Pause on hover/focus
      slider.addEventListener('mouseenter', () => { paused = true; stopAutoplay(); });
      slider.addEventListener('mouseleave', () => { paused = false; restartAutoplay(); });
      slider.addEventListener('focusin', () => { paused = true; stopAutoplay(); });
      slider.addEventListener('focusout', () => { paused = false; restartAutoplay(); });

      // Visibility change
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) stopAutoplay();
        else if (!paused) restartAutoplay();
      });

      function startAutoplay() {
        if (prefersReduced || slides.length <= 1) return;
        stopAutoplay();
        autoplayId = setInterval(next, AUTOPLAY_MS);
      }
      function stopAutoplay() {
        if (autoplayId) clearInterval(autoplayId);
        autoplayId = null;
      }
      function restartAutoplay() {
        if (paused || prefersReduced) return;
        startAutoplay();
      }

      startAutoplay();
    })();

    // ----------------------------------------
    // Active link highlighting on scroll
    // ----------------------------------------
    const links = [...document.querySelectorAll('.nav a.link')];
    const sections = links.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);
    const setActive = (id) => {
      links.forEach(l => l.setAttribute('aria-current', l.getAttribute('href') === '#' + id));
    };
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) setActive(e.target.id); });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });
    sections.forEach(s => io.observe(s));

    // ----------------------------------------
    // Reveal-on-scroll animations
    // ----------------------------------------
    const revealEls = document.querySelectorAll('.reveal');
    const ro = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('show'); ro.unobserve(e.target); } });
    }, { threshold: 0.12 });
    revealEls.forEach(el => ro.observe(el));

    // ----------------------------------------
    // Shipped Projects Counter
    // ----------------------------------------
    (function initCountUp() {
      const counters = [...document.querySelectorAll('.count[data-to]')];
      if (!counters.length) return;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const DURATION = 1200;
      const EASE = t => 1 - Math.pow(1 - t, 4);

      function animate(el) {
        const end = parseFloat(el.dataset.to);
        if (Number.isNaN(end)) return;
        if (prefersReduced) { el.textContent = end + '+'; return; }

        const startTime = performance.now();
        function tick(now) {
          const t = Math.min(1, (now - startTime) / DURATION);
          const value = Math.floor(EASE(t) * end);
          el.textContent = value + '+'; 
          if (t < 1) requestAnimationFrame(tick);
          else el.textContent = end + '+'; 
        }
        requestAnimationFrame(tick);
      }

      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            animate(e.target);
            obs.unobserve(e.target);
          }
        });
      }, { threshold: 0.3 });

      counters.forEach(c => io.observe(c));
    })();

    // ----------------------------------------
    // Copy-to-clipboard buttons
    // ----------------------------------------
    document.querySelectorAll('.copy').forEach(btn => {
      btn.addEventListener('click', async () => {
        try { 
          await navigator.clipboard.writeText(btn.dataset.copy); 
          btn.textContent = 'Copied'; 
          setTimeout(() => btn.textContent = 'Copy', 1200); 
        } catch {}
      })
    });

    // ----------------------------------------
    // Footer metadata
    // ----------------------------------------
    document.getElementById('year').textContent = new Date().getFullYear();
    const updated = new Date(document.lastModified);
    document.getElementById('updated').textContent = updated.toLocaleDateString(undefined, { year:'numeric', month:'short', day:'numeric'});

    // ----------------------------------------
    // Ocean Background (canvas) with depth-based particles
    // ----------------------------------------
    (function initOcean() {
      const canvas = document.getElementById('ocean-canvas');
      if (!canvas) return;

      const ctx = canvas.getContext('2d', { alpha: true });
      let w = 0, h = 0, dpr = Math.max(1, window.devicePixelRatio || 1);
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Particles
      const MAX_BUBBLES = 50;
      const MAX_PLANK   = 180;
      const MAX_SNOW    = 240;

      const bubbles = [];
      const plankton = [];
      const snow = [];

      function resize() {
        w = canvas.clientWidth = window.innerWidth;
        h = canvas.clientHeight = window.innerHeight;
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }

      function rand(a, b){ return a + Math.random()*(b-a); }
      function clamp(v, a, b){ return Math.min(b, Math.max(a, v)); }
      function lerp(a, b, t){ return a + (b - a) * t; }

      // Depth factor
      function depthFactor() {
        const max = Math.max(1, document.documentElement.scrollHeight - window.innerHeight);
        return clamp(window.scrollY / max, 0, 1);
      }

      function lerpHsl(hslA, hslB, t){
        const p = s => s.replace(/[^\d.\s]/g,'').trim().split(/\s+/).map(Number); // crude parse "hsl(H S% L%)"
        const [h1,s1,l1] = p(hslA);
        const [h2,s2,l2] = p(hslB);
        const h = lerp(h1, h2, t), s = lerp(s1, s2, t), l = lerp(l1, l2, t);
        return `hsl(${h} ${s}% ${l}%)`;
      }

      function paintBackground(t) {

        const top = lerpHsl(
          getComputedStyle(document.documentElement).getPropertyValue('--ocean-surface'),
          getComputedStyle(document.documentElement).getPropertyValue('--ocean-mid'),
          clamp(Math.pow(t, 0.6), 0, 1) 
        );
        const bottom = lerpHsl(
          getComputedStyle(document.documentElement).getPropertyValue('--ocean-mid'),
          getComputedStyle(document.documentElement).getPropertyValue('--ocean-deep'),
          clamp(Math.pow(t, 1.5), 0, 1) 
        );
        const g = ctx.createLinearGradient(0, 0, 0, h);
        g.addColorStop(0, top);
        g.addColorStop(1, bottom);
        ctx.fillStyle = g;
        ctx.fillRect(0, 0, w, h);
      }

      function seedParticles() {
        bubbles.length = 0; plankton.length = 0; snow.length = 0;
        for (let i=0;i<MAX_BUBBLES;i++) {
          bubbles.push({
            x: rand(0,w), y: rand(h*0.5, h), r: rand(1, 3.5), vy: rand(-28, -10), wob: rand(0.4, 1.5), a: rand(0.2, 0.9)
          });
        }
        for (let i=0;i<MAX_PLANK;i++) {
          plankton.push({
            x: rand(0,w), y: rand(0, h), r: rand(0.7, 1.8), vx: rand(-8, 8), vy: rand(-6, 6), tw: rand(2,5), a: rand(0.15, 0.45)
          });
        }
        for (let i=0;i<MAX_SNOW;i++) {
          snow.push({
            x: rand(0,w), y: rand(0, h), r: rand(0.6, 1.4), vy: rand(6, 18), drift: rand(-4, 4), a: rand(0.12, 0.35)
          });
        }
      }

      // Bubbles
      function drawParticles(t) {

        const bubblesPct = 1 - t;             
        const plankPct   = 1 - Math.abs(t-0.45)*2;
        const snowPct    = t;                  

        const bubbleN = Math.floor(MAX_BUBBLES * bubblesPct);
        const plankN  = Math.floor(MAX_PLANK * clamp(plankPct, 0, 1));
        const snowN   = Math.floor(MAX_SNOW * snowPct);

        const surfaceY = document.getElementById("ocean-top").offsetHeight; 

        ctx.fillStyle = getComputedStyle(document.documentElement)
          .getPropertyValue('--ocean-bubble').trim() || 'rgba(240,250,255,.9)';

        for (let i = 0; i < bubbleN; i++) {
          const b = bubbles[i];
          b.y += b.vy * 0.016;
          b.x += Math.sin((performance.now() / 1000 + i) * b.wob) * 0.6;

          if (b.y < surfaceY + 50) {
            b.y = h + rand(0, 60);
            b.x = rand(0, w);
          }

          const drawY = Math.max(b.y, surfaceY);

          ctx.globalAlpha = b.a;
          ctx.beginPath();
          ctx.arc(b.x, drawY, b.r, 0, Math.PI * 2);
          ctx.fill();
        }

        // Plankton 
        ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--ocean-plank').trim() || 'rgba(120,255,180,.35)';
        for (let i=0;i<plankN;i++){
          const p = plankton[i];
          const tw = p.tw;
          p.x += (p.vx + Math.sin((performance.now()/600)+i)*tw) * 0.016;
          p.y += (p.vy + Math.cos((performance.now()/700)+i)*tw) * 0.016;
          if (p.x < -10) p.x = w+10; if (p.x > w+10) p.x = -10;
          if (p.y < -10) p.y = h+10; if (p.y > h+10) p.y = -10;
          ctx.globalAlpha = p.a;
          ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill();
        }

        // Marine snow
        ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--ocean-snow').trim() || 'rgba(200,220,230,.6)';
        for (let i=0;i<snowN;i++){
          const s = snow[i];
          s.y += s.vy * 0.016; s.x += s.drift * 0.008;
          if (s.y > h+6) { s.y = -6; s.x = rand(0,w); }
          ctx.globalAlpha = s.a;
          ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
        }

        ctx.globalAlpha = 1;
      }

      let raf = null;
      function frame(){
        if (prefersReduced) return; 
        const t = depthFactor();
        ctx.clearRect(0,0,w,h);
        paintBackground(t);
        drawParticles(t);
        raf = requestAnimationFrame(frame);
      }

      resize();
      seedParticles();
      if (!prefersReduced) frame();

      window.addEventListener('resize', () => { resize(); });
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) { if (raf) cancelAnimationFrame(raf), raf = null; }
        else if (!prefersReduced && !raf) { frame(); }
      });
    })();

    // ----------------------------------------
    // Fishing line and hook
    // ----------------------------------------
    (function initHookFollow() {
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const boat = document.getElementById('boat-img');
      const hookWrap = document.getElementById('hook-wrap');
      const hookImg = document.getElementById('hook-img');
      const lineSvg = document.getElementById('hook-line');
      const linePath = document.getElementById('hook-path');
      const oceanTop = document.getElementById('ocean-top');

      if (!boat || !hookWrap || !hookImg || !lineSvg || !linePath) return;

      const START_TOP = parseFloat(getComputedStyle(hookWrap).top) || 250; // px
      const RATE = 0.07;          
      const MAX_EXTRA = 350;   
      const SAG_BASE = 5;       
      const SAG_GAIN = 0.12;       
      const RIGHT_OFFSET = 20;   

      let raf = null;

      function getBoatAnchor() {

        const r = boat.getBoundingClientRect();
        const x = r.left + r.width * 1;
        const y = r.top + r.height * .95;
        return { x, y };
      }

      function getHookAttach() {

        const r = hookImg.getBoundingClientRect();
        const x = r.left + r.width * 0.85;
        const y = r.top + r.height * 0.15;
        return { x, y };
      }

      function clamp(n, a, b) { return Math.min(b, Math.max(a, n)); }

      function update() {
        const extra = clamp(window.scrollY * RATE, 0, MAX_EXTRA);

        const maxAllowed = Math.max(0, document.documentElement.scrollHeight - window.innerHeight - 50);
        const extraClamped = clamp(extra, 0, maxAllowed);

        hookWrap.style.transform = `translateY(${extraClamped}px)`;

        lineSvg.setAttribute('viewBox', `0 0 ${window.innerWidth} ${window.innerHeight}`);

        const A = getBoatAnchor();
        const B = getHookAttach();

        const sag = SAG_BASE + (extraClamped * SAG_GAIN * 0.1);
        const drift = Math.sin((performance.now() / 1200)) * Math.min(24, 6 + extraClamped * 0.02);

        const cp1 = { x: A.x + 10 + drift, y: A.y + Math.max(18, sag * 0.5) };
        const midY = (A.y + B.y) / 2 + sag;
        const cp2 = { x: B.x + drift * 0.4, y: midY };

        const d = `M ${A.x},${A.y} C ${cp1.x},${cp1.y} ${cp2.x},${cp2.y} ${B.x},${B.y}`;
        linePath.setAttribute('d', d);
      }

      function onScrollOrResize() {
        if (prefersReduced) return;
        if (raf) cancelAnimationFrame(raf);
        raf = requestAnimationFrame(update);
      }

      function gateVisibility() {
        const hookRect = hookWrap.getBoundingClientRect();
        const oceanBottom = oceanTop.getBoundingClientRect().bottom;
        const visible = hookRect.top >= oceanBottom - 52;
        lineSvg.style.opacity = visible ? '1' : '0';
      }

      window.addEventListener('scroll', () => { onScrollOrResize(); gateVisibility(); }, { passive: true });
      window.addEventListener('resize', onScrollOrResize);
      document.addEventListener('visibilitychange', () => {
        if (!document.hidden) onScrollOrResize();
      });

      onScrollOrResize();
      gateVisibility();
    })();

    (function initHookVisibility() {
      const hookWrap = document.getElementById('hook-wrap');
      const hookLine = document.getElementById('hook-line');
      if (!hookWrap || !hookLine) return;

      const WATERLINE = 1;

      window.addEventListener('scroll', () => {
        if (window.scrollY < WATERLINE) {
          hookWrap.classList.add('hidden');
          hookLine.classList.add('hidden');
        } else {
          hookWrap.classList.remove('hidden');
          hookLine.classList.remove('hidden');
        }
      });
    })();

    (function initScrollDepth(){
      const MAX_DEPTH = 4000;
      const HIDE_MS = 600;

      let meter = document.getElementById('depth-meter');
      if (!meter) {
        meter = document.createElement('div');
        meter.id = 'depth-meter';
        meter.innerHTML = '<span class="depth-value">0</span> m';
        document.body.appendChild(meter);
      }
      const valueEl = meter.querySelector('.depth-value') || meter;

      function scrollProgress() {
        const maxScrollable = Math.max(1, document.documentElement.scrollHeight - window.innerHeight);
        return Math.min(1, Math.max(0, window.scrollY / maxScrollable));
      }

      let raf = null;
      let hideTimer = null;

      function showMeter() {
        meter.classList.add('is-visible');
        if (hideTimer) clearTimeout(hideTimer);
        hideTimer = setTimeout(() => {
          meter.classList.remove('is-visible');
        }, HIDE_MS);
      }

      function updateDepth() {
        raf = null;
        const pct = scrollProgress();
        const rawDepth = Math.round(pct * MAX_DEPTH);
        const depth = Math.floor(rawDepth / 10) * 10;
        valueEl.textContent = String(depth);
      }

      function schedule() {
        if (raf == null) raf = requestAnimationFrame(updateDepth);
        showMeter();
      }

      window.addEventListener('scroll', schedule, { passive: true });
      window.addEventListener('resize', schedule);
      window.addEventListener('load', schedule);

      schedule();
    })();

  </script>
</body>
</html>

